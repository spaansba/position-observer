var PositionObserver=function(){"use strict";var j=Object.defineProperty;var q=(u,h,a)=>h in u?j(u,h,{enumerable:!0,configurable:!0,writable:!0,value:a}):u[h]=a;var l=(u,h,a)=>q(u,typeof h!="symbol"?h+"":h,a);const u="DOMContentLoaded",h=navigator.userAgentData,a=h,{userAgent:E}=navigator,g=E,_=/iPhone|iPad|iPod|Android/i;// istanbul ignore else @preserve
a?a.brands.some(t=>_.test(t.brand)):_.test(g);const v=/(iPhone|iPod|iPad)/;a?a.brands.some(t=>v.test(t.brand)):v.test(g),g&&g.includes("Firefox");const{head:f}=document;["webkitPerspective","perspective"].some(t=>t in f.style);const B=(t,e,n,i)=>{const o=i||!1;t.addEventListener(e,n,o)},T=(t,e,n,i)=>{const o=i||!1;t.removeEventListener(e,n,o)},C=(t,e,n,i)=>{const o=s=>{// istanbul ignore else @preserve
(s.target===t||s.currentTarget===t)&&(n.apply(t,[s]),T(t,e,o,i))};B(t,e,o,i)},O=()=>{};(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get:()=>(t=!0,t)});// istanbul ignore next @preserve
C(document,u,O,e)}catch{}return t})(),["webkitTransform","transform"].some(t=>t in f.style),["webkitAnimation","animation"].some(t=>t in f.style),["webkitTransition","transition"].some(t=>t in f.style);const $=t=>t!=null&&typeof t=="object"||!1,F=t=>$(t)&&typeof t.nodeType=="number"&&[1,2,3,4,5,6,7,8,9,10,11].some(e=>t.nodeType===e)||!1,L=t=>F(t)&&t.nodeType===1||!1,y=(t,e)=>{const{width:n,height:i,top:o,right:s,bottom:b,left:d}=t.getBoundingClientRect();let r=1,c=1;return{width:n/r,height:i/c,top:o/c,right:s/r,bottom:b/c,left:d/r,x:d/r,y:o/c}},V=t=>typeof t=="function"||!1,k="PositionObserver Error";class H{constructor(e,n){l(this,"entries");l(this,"_tick");l(this,"_root");l(this,"_callback");l(this,"observe",e=>{if(!L(e))throw new Error(`${k}: ${e} is not an instance of HTMLElement.`);const{clientWidth:n,clientHeight:i}=this._root,o=y(e),{left:s,top:b,bottom:d,right:r,width:c,height:m}=o,p=b>1-m&&s>1-c&&d<=i+m-1&&r<=n+c-1;this.entries.push({target:e,boundingBox:o,isVisible:p}),this._tick=requestAnimationFrame(this._runCallback)});l(this,"unobserve",e=>{const n=this.entries.findIndex(i=>i.target===e);this.entries.splice(n,1)});l(this,"_runCallback",()=>{/* istanbul ignore if @preserve - a guard must be set */if(!this.entries.length)return;const e=[],{clientWidth:n,clientHeight:i}=this._root;this.entries.forEach((o,s)=>{const{target:b,boundingBox:d}=o,r=y(b),{left:c,top:m,bottom:p,right:w,width:P,height:x}=r;if(d.left!==c||d.top!==m||d.right!==w||d.bottom!==p){const A=m>1-x&&c>1-P&&p<=i+x-1&&w<=n+P-1;this.entries[s].boundingBox=r,this.entries[s].isVisible=A,e.push({target:b,boundingBox:r,isVisible:A})}}),e.length&&this._callback(e),requestAnimationFrame(this._runCallback)});l(this,"disconnect",()=>{cancelAnimationFrame(this._tick),this.entries.length=0,this._tick=0});if(!V(e))throw new Error(`${k}: ${e} is not a function.`);this.entries=[],this._callback=e,this._root=(n==null?void 0:n.root)||(document==null?void 0:document.documentElement),this._tick=0}}return H}();
//# sourceMappingURL=index.js.map
