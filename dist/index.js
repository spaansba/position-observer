var PositionObserver=function(){"use strict";var M=Object.defineProperty;var R=(u,h,a)=>h in u?M(u,h,{enumerable:!0,configurable:!0,writable:!0,value:a}):u[h]=a;var l=(u,h,a)=>R(u,typeof h!="symbol"?h+"":h,a);const u="DOMContentLoaded",h=navigator.userAgentData,a=h,{userAgent:B}=navigator,g=B,v=/iPhone|iPad|iPod|Android/i;// istanbul ignore else @preserve
a?a.brands.some(t=>v.test(t.brand)):v.test(g);const y=/(iPhone|iPod|iPad)/;a?a.brands.some(t=>y.test(t.brand)):y.test(g),g&&g.includes("Firefox");const{head:f}=document;["webkitPerspective","perspective"].some(t=>t in f.style);const C=(t,e,o,n)=>{const i=n||!1;t.addEventListener(e,o,i)},O=(t,e,o,n)=>{const i=n||!1;t.removeEventListener(e,o,i)},$=(t,e,o,n)=>{const i=s=>{// istanbul ignore else @preserve
(s.target===t||s.currentTarget===t)&&(o.apply(t,[s]),O(t,e,i,n))};C(t,e,i,n)},F=()=>{};(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get:()=>(t=!0,t)});// istanbul ignore next @preserve
$(document,u,F,e)}catch{}return t})(),["webkitTransform","transform"].some(t=>t in f.style),["webkitAnimation","animation"].some(t=>t in f.style),["webkitTransition","transition"].some(t=>t in f.style);const k=t=>t!=null&&typeof t=="object"||!1,_=t=>k(t)&&typeof t.nodeType=="number"&&[1,2,3,4,5,6,7,8,9,10,11].some(e=>t.nodeType===e)||!1,L=t=>_(t)&&t.nodeType===1||!1,V=t=>k(t)&&t.constructor.name==="Window"||!1,q=t=>_(t)&&t.nodeType===9||!1,D=t=>V(t)?t.document:q(t)?t:_(t)?t.ownerDocument:globalThis.document,w=(t,e)=>{const{width:o,height:n,top:i,right:s,bottom:m,left:d}=t.getBoundingClientRect();let r=1,c=1;return{width:o/r,height:n/c,top:i/c,right:s/r,bottom:m/c,left:d/r,x:d/r,y:i/c}},H=t=>D(t).documentElement,W=t=>typeof t=="function"||!1,P="PositionObserver Error";class j{constructor(e){l(this,"entries");l(this,"_tick");l(this,"_root");l(this,"_callback");l(this,"observe",e=>{if(!L(e))throw new Error(`${P}: ${e} is not an instance of HTMLElement.`);/* istanbul ignore if @preserve - a guard must be set and the real viewport must be used */this._root||(this._root=H(e));const{clientWidth:o,clientHeight:n}=this._root,i=w(e),{left:s,top:m,bottom:d,right:r,width:c,height:b}=i,p=m>1-b&&s>1-c&&d<=n+b-1&&r<=o+c-1;this.entries.push({target:e,boundingBox:i,isVisible:p}),this._tick=requestAnimationFrame(this._runCallback)});l(this,"unobserve",e=>{const o=this.entries.findIndex(n=>n.target===e);this.entries.splice(o,1)});l(this,"_runCallback",()=>{/* istanbul ignore if @preserve - a guard must be set */if(!this.entries.length)return;const e=[],{clientWidth:o,clientHeight:n}=this._root;this.entries.forEach((i,s)=>{const{target:m,boundingBox:d}=i,r=w(m),{left:c,top:b,bottom:p,right:E,width:T,height:x}=r;if(d.left!==c||d.top!==b||d.right!==E||d.bottom!==p){const A=b>1-x&&c>1-T&&p<=n+x-1&&E<=o+T-1;this.entries[s].boundingBox=r,this.entries[s].isVisible=A,e.push({target:m,boundingBox:r,isVisible:A})}}),e.length&&this._callback(e),requestAnimationFrame(this._runCallback)});l(this,"disconnect",()=>{cancelAnimationFrame(this._tick),this.entries.length=0,this._tick=0});if(!W(e))throw new Error(`${P}: ${e} is not a function.`);this.entries=[],this._callback=e,this._root=document==null?void 0:document.documentElement,this._tick=0}}return j}();
//# sourceMappingURL=index.js.map
