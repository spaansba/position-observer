var PositionObserver=function(){"use strict";var j=Object.defineProperty;var q=(u,h,a)=>h in u?j(u,h,{enumerable:!0,configurable:!0,writable:!0,value:a}):u[h]=a;var l=(u,h,a)=>q(u,typeof h!="symbol"?h+"":h,a);const u="DOMContentLoaded",h=navigator.userAgentData,a=h,{userAgent:B}=navigator,g=B,_=/iPhone|iPad|iPod|Android/i;a?a.brands.some(t=>_.test(t.brand)):_.test(g);const v=/(iPhone|iPod|iPad)/;a?a.brands.some(t=>v.test(t.brand)):v.test(g),g&&g.includes("Firefox");const{head:f}=document;["webkitPerspective","perspective"].some(t=>t in f.style);const T=(t,e,i,n)=>{const o=n||!1;t.addEventListener(e,i,o)},C=(t,e,i,n)=>{const o=n||!1;t.removeEventListener(e,i,o)},O=(t,e,i,n)=>{const o=s=>{(s.target===t||s.currentTarget===t)&&(i.apply(t,[s]),C(t,e,o,n))};T(t,e,o,n)},$=()=>{};(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get:()=>(t=!0,t)});O(document,u,$,e)}catch{}return t})(),["webkitTransform","transform"].some(t=>t in f.style),["webkitAnimation","animation"].some(t=>t in f.style),["webkitTransition","transition"].some(t=>t in f.style);const F=t=>t!=null&&typeof t=="object"||!1,L=t=>F(t)&&typeof t.nodeType=="number"&&[1,2,3,4,5,6,7,8,9,10,11].some(e=>t.nodeType===e)||!1,k=t=>L(t)&&t.nodeType===1||!1,y=(t,e)=>{const{width:i,height:n,top:o,right:s,bottom:b,left:d}=t.getBoundingClientRect();let r=1,c=1;return{width:i/r,height:n/c,top:o/c,right:s/r,bottom:b/c,left:d/r,x:d/r,y:o/c}},V=t=>typeof t=="function"||!1,w="PositionObserver Error";class H{constructor(e,i){l(this,"entries");l(this,"_tick");l(this,"_root");l(this,"_callback");l(this,"observe",e=>{if(!k(e))throw new Error(`${w}: ${e} is not an instance of HTMLElement.`);if(!this._root.contains(e))return;const{clientWidth:i,clientHeight:n}=this._root,o=y(e),{left:s,top:b,bottom:d,right:r,width:c,height:m}=o,p=b>1-m&&s>1-c&&d<=n+m-1&&r<=i+c-1;this.entries.push({target:e,boundingBox:o,isVisible:p}),this._tick||(this._tick=requestAnimationFrame(this._runCallback))});l(this,"unobserve",e=>{const i=this.entries.findIndex(n=>n.target===e);this.entries.splice(i,1)});l(this,"_runCallback",()=>{if(!this.entries.length)return;const e=[],{clientWidth:i,clientHeight:n}=this._root;this.entries.forEach((o,s)=>{const{target:b,boundingBox:d}=o,r=y(b),{left:c,top:m,bottom:p,right:P,width:x,height:A}=r;if(d.left!==c||d.top!==m||d.right!==P||d.bottom!==p){const E=m>1-A&&c>1-x&&p<=n+A-1&&P<=i+x-1;this.entries[s].boundingBox=r,this.entries[s].isVisible=E,e.push({target:b,boundingBox:r,isVisible:E})}}),e.length&&this._callback(e),requestAnimationFrame(this._runCallback)});l(this,"disconnect",()=>{cancelAnimationFrame(this._tick),this.entries.length=0,this._tick=0});if(!V(e))throw new Error(`${w}: ${e} is not a function.`);this.entries=[],this._callback=e,this._root=k(i==null?void 0:i.root)?i.root:document==null?void 0:document.documentElement,this._tick=0}}return H}();
//# sourceMappingURL=index.js.map
