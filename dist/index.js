var PositionObserver=function(){"use strict";const f=e=>e!=null&&typeof e=="object"||!1,_=e=>f(e)&&typeof e.nodeType=="number"&&[1,2,3,4,5,6,7,8,9,10,11].some(t=>e.nodeType===t)||!1,c=e=>_(e)&&e.nodeType===1||!1,b=e=>typeof e=="function"||!1,l="1.0.2",h="PositionObserver Error";class m{entries;static version=l;_tick;_root;_callback;constructor(t,i){if(!b(t))throw new Error(`${h}: ${t} is not a function.`);this.entries=new Map,this._callback=t,this._root=c(i?.root)?i.root:document?.documentElement,this._tick=0}observe=t=>{if(!c(t))throw new Error(`${h}: ${t} is not an instance of Element.`);this._root.contains(t)&&this._new(t).then(i=>{i&&!this.getEntry(t)&&this.entries.set(t,i),this._tick||(this._tick=requestAnimationFrame(this._runCallback))})};unobserve=t=>{this.entries.has(t)&&this.entries.delete(t)};_runCallback=()=>{if(!this.entries.size)return;const t=new Promise(i=>{const o=[];this.entries.forEach(({target:s,boundingClientRect:n})=>{this._root.contains(s)&&this._new(s).then(({boundingClientRect:r,isVisible:u})=>{if(!u)return;const{left:v,top:w,bottom:k,right:p}=r;if(n.top!==w||n.left!==v||n.right!==p||n.bottom!==k){const a={target:s,boundingClientRect:r,isVisible:u};this.entries.set(s,a),o.push(a)}})}),i(o)});this._tick=requestAnimationFrame(async()=>{const i=await t;i.length&&this._callback(i,this),this._runCallback()})};_new=t=>new Promise(i=>{new IntersectionObserver(([{boundingClientRect:s,isIntersecting:n}],r)=>{r.disconnect(),i({target:t,isVisible:n,boundingClientRect:s})}).observe(t)});getEntry=t=>this.entries.get(t);disconnect=()=>{cancelAnimationFrame(this._tick),this.entries.clear(),this._tick=0}}return m}();
//# sourceMappingURL=index.js.map
