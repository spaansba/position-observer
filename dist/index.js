var PositionObserver=function(){"use strict";const p=e=>e!=null&&typeof e=="object"||!1,v=e=>p(e)&&typeof e.nodeType=="number"&&[1,2,3,4,5,6,7,8,9,10,11].some(t=>e.nodeType===t)||!1,l=e=>v(e)&&e.nodeType===1||!1,y=e=>typeof e=="function"||!1,k="1.0.0",s=new Map,m="PositionObserver Error";class E{static entries=s;static version=k;_tick;_root;_callback;constructor(t,i){if(!y(t))throw new Error(`${m}: ${t} is not a function.`);this._callback=t,this._root=l(i?.root)?i.root:document?.documentElement,this._tick=0}observe=t=>{if(!l(t))throw new Error(`${m}: ${t} is not an instance of HTMLElement.`);this._root.contains(t)&&this._new(t).then(i=>{this.getEntry(t)||s.set(t,i),this._tick||(this._tick=requestAnimationFrame(this._runCallback))})};unobserve=t=>{s.has(t)&&s.delete(t)};_runCallback=()=>{if(!s.size)return;const t=new Promise(i=>{const h=[];s.forEach(async({target:n,boundingClientRect:o})=>{this._root.contains(n)&&await this._new(n).then(({boundingClientRect:r,isVisible:a})=>{const{left:u,top:f,bottom:_,right:b}=r;if(o.top!==f||o.left!==u||o.right!==b||o.bottom!==_){const c={target:n,boundingClientRect:r,isVisible:a};s.set(n,c),h.push(c)}})}),i(h)});requestAnimationFrame(async()=>{const i=await t;i.length&&this._callback(i,this),this._runCallback()})};_new=t=>{const{clientWidth:i,clientHeight:h}=this._root;return new Promise(n=>{new IntersectionObserver(([{boundingClientRect:r}],a)=>{a.disconnect();const{left:u,top:f,bottom:_,right:b,width:c,height:w}=r,O=f>1-w&&u>1-c&&_<=h+w-1&&b<=i+c-1;n({target:t,isVisible:O,boundingClientRect:r})}).observe(t)})};getEntry=t=>s.get(t);disconnect=()=>{cancelAnimationFrame(this._tick),s.clear(),this._tick=0}}return E}();
//# sourceMappingURL=index.js.map
